

  
    
  


  





  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.56.3 with theme Tranquilpeak 0.4.3-BETA">
    <title>Effective Unit Testing of React Components With Jest And Enzyme</title>
    <meta name="author" content="Xiaoyun Yang">
    <meta name="keywords" content="jest, javascript, interview prep, programming, software design, guide">

    <link rel="icon" href="https://xiaoyunyang.github.io/favicon-96x96.png">
    

    
    <meta name="description" content="The purpose of this article is to (1) provide a high level discussion of testing and (2) offer some practical examples and best practice for writing automated unit tests for React Application using Jest and Enzyme.">
    <meta property="og:description" content="The purpose of this article is to (1) provide a high level discussion of testing and (2) offer some practical examples and best practice for writing automated unit tests for React Application using Jest and Enzyme.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Effective Unit Testing of React Components With Jest And Enzyme">
    <meta property="og:url" content="https://xiaoyunyang.github.io/post/effective-unit-testing-of-react-components-with-jest-and-enzyme/">
    <meta property="og:site_name" content="Xiaoyun Yang">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Xiaoyun Yang">
    <meta name="twitter:description" content="The purpose of this article is to (1) provide a high level discussion of testing and (2) offer some practical examples and best practice for writing automated unit tests for React Application using Jest and Enzyme.">
    
    

    
    

    
      <meta property="og:image" content="https://images2.imgbox.com/22/c7/WQabWJ4U_o.png">
    
    
    

    
      <meta property="og:image" content="https://xiaoyunyang.github.io/images/xyang.png">
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://xiaoyunyang.github.io/css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    
      
        <link rel="stylesheet"  href="https://xiaoyunyang.github.io/css/custom.css">
      
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://xiaoyunyang.github.io/">Xiaoyun Yang</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://xiaoyunyang.github.io/#about">
    
    
    
      
        <img class="header-picture" src="https://xiaoyunyang.github.io/images/xyang.png" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://xiaoyunyang.github.io/#about">
          <img class="sidebar-profile-picture" src="https://xiaoyunyang.github.io/images/xyang.png" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Xiaoyun Yang</h4>
        
          <h5 class="sidebar-profile-bio">Software Engineer. Entrepreneur.</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
     
      <a class="sidebar-button-link " href="https://xiaoyunyang.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
     
      <a class="sidebar-button-link " href="https://xiaoyunyang.github.io/categories/projects">
    
      <i class="sidebar-button-icon fa fa-lg fa-code"></i>
      
      <span class="sidebar-button-desc">Projects</span>
    </a>
  </li>

  <li class="sidebar-button">
     
      <a class="sidebar-button-link " href="https://xiaoyunyang.github.io/categories/blog">
    
      <i class="sidebar-button-icon fa fa-lg fa-pencil"></i>
      
      <span class="sidebar-button-desc">Blog</span>
    </a>
  </li>

  <li class="sidebar-button">
     
      <a class="sidebar-button-link " href="https://xiaoyunyang.github.io/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
     
      <a class="sidebar-button-link " href="https://xiaoyunyang.github.io/about">
    
      <i class="sidebar-button-icon fa fa-lg fa-user"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
     
      <a class="sidebar-button-link " href="https://github.com/xiaoyunyang" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
     
      <a class="sidebar-button-link " href="https://medium.com/@xiaoyunyang" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-medium"></i>
      
      <span class="sidebar-button-desc">Medium</span>
    </a>
  </li>

  <li class="sidebar-button">
     
      <a class="sidebar-button-link " href="https://linkedin.com/in/xiaoyun-yang" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-linkedin"></i>
      
      <span class="sidebar-button-desc">Linkedin</span>
    </a>
  </li>

  <li class="sidebar-button">
     
      <a class="sidebar-button-link " href="https://angel.co/xiaoyunyang" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-angellist"></i>
      
      <span class="sidebar-button-desc">AngelList</span>
    </a>
  </li>

  <li class="sidebar-button">
     
     <a class="sidebar-button-link " href="mailto:xiaoyun@looseleafapp.com" rel="noopener">
     
      <i class="sidebar-button-icon fa fa-lg fa-envelope"></i>
      
      <span class="sidebar-button-desc">Email Me</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Effective Unit Testing of React Components With Jest And Enzyme
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2019-08-11T00:00:00Z">
        
  August 11, 2019

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="https://xiaoyunyang.github.io/categories/blog">blog</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <p>The purpose of this article is to (1) provide a high level discussion of testing and (2) offer some practical examples and best practice for writing automated unit tests for React Application using Jest and Enzyme.</p>

<h1 id="table-of-contents">Table of Contents</h1><nav id="TableOfContents">
<ul>
<li><a href="#testing-concepts">Testing Concepts</a>
<ul>
<li><a href="#test-drive-development">Test Drive Development</a></li>
<li><a href="#coverage">Coverage</a></li>
<li><a href="#types-of-tests">Types of Tests</a>
<ul>
<li><a href="#blackbox-testing-vs-whitebox-testing">Blackbox testing vs. Whitebox testing</a></li>
<li><a href="#unit-tests">Unit Tests</a></li>
<li><a href="#integration-tests">Integration Tests</a></li>
<li><a href="#end-to-end-testing">End-to-End Testing</a></li>
<li><a href="#regression-testing">Regression Testing</a></li>
<li><a href="#automated-vs-manual-testing">Automated vs Manual Testing</a></li>
<li><a href="#stress-testing">Stress Testing</a></li>
</ul></li>
<li><a href="#testing-techniques">Testing Techniques</a>
<ul>
<li><a href="#mocking">Mocking</a></li>
<li><a href="#spying">Spying</a></li>
</ul></li>
</ul></li>
<li><a href="#testing-using-jest-and-enzyme">Testing Using Jest and Enzyme</a>
<ul>
<li><a href="#setting-up-a-test">Setting up a test</a></li>
<li><a href="#find">Find</a></li>
<li><a href="#childat-vs-at">childAt vs at</a></li>
<li><a href="#testing-events">Testing Events</a></li>
<li><a href="#testing-a-collection">Testing A Collection</a></li>
<li><a href="#testing-react-component-methods">Testing React component methods</a></li>
<li><a href="#checking-method-in-props">Checking Method In Props</a></li>
<li><a href="#spy-on-component-methods">Spy on component methods</a></li>
<li><a href="#shallow-vs-mount">Shallow vs Mount</a></li>
<li><a href="#dive">Dive</a></li>
<li><a href="#state-and-props">State and Props</a>
<ul>
<li><a href="#inspect-state">Inspect State</a></li>
<li><a href="#update-state">Update State</a></li>
<li><a href="#inspect-props">Inspect Props</a></li>
<li><a href="#update-props">Update Props</a></li>
</ul></li>
<li><a href="#debugging">Debugging</a></li>
<li><a href="#async-await">Async/Await</a></li>
<li><a href="#document-and-element-with-timeout">Document and Element With Timeout</a></li>
</ul></li>
<li><a href="#resources">Resources</a></li>
</ul>
</nav>

<h1 id="testing-concepts">Testing Concepts</h1>

<h2 id="test-drive-development">Test Drive Development</h2>

<p>Test Driven Development (TDD) is a software development methodology that requires that you write your tests before you write code.</p>

<p>In other words, the code you write is driven by the need to pass the tests, which should come directly from requirements.</p>

<p>In addition to increaseing confidence that code works as expected, TDD helps us to write better software that’s maintainable by helping to prevent future regression and bugs. Code maintainability is a natural consequence of TDD because code that is written to be testable are generally better designed (more modular), less complex, and better organized.</p>

<h2 id="coverage">Coverage</h2>

<p>In most cases, it&rsquo;s impossible and/or infeasible to acheive 100% test coverage so you need to prioritize your test cases.</p>

<p>Prior to writing tests, we need a good big picture understanding of what the important requirements are. For example, image appear in the right place is not as important as image appearing at all. Functionality is more important than style in most cases.</p>

<p>There are a few things to consider before we start writing tests:</p>

<ul>
<li>Knowing how your piece of software fit into the system - mocks, stubs, spy, side effects</li>
<li>Organization: come up with test cases. First break up what you want to test into categories. Then set up test cases in these categories.</li>
<li>Practicality: can you test this at all? Give an example of code that’s not testable that has been refactored just so we could test it</li>
</ul>

<h2 id="types-of-tests">Types of Tests</h2>

<h3 id="blackbox-testing-vs-whitebox-testing">Blackbox testing vs. Whitebox testing</h3>

<p>When we want to test a piece of software we wrote, we want to perform whitebox testing. Whitebox testing assumes knowledge of the innner workings of the code. For a React component, that includes testing:</p>

<ul>
<li>rendering from props</li>
<li>event handler is called when button is clicked</li>
<li>state is updated following an event</li>
</ul>

<p>Sometimes our piece of software interacts with other pieces of software that we don’t control. Software interacts with each other via passing data to and from each other or calling each other. If our code uses a library or another component, we cannot perform whitebox testing of that component but we can test the interfaces between our component and the other component; for instance, making sure that particular input results in expected output.</p>

<h3 id="unit-tests">Unit Tests</h3>

<p>Unit Tests test one piece of software in isolation. In Unit Testing, we are primarily concerned with answering the question</p>

<blockquote>
<p>Given some input, do we get correct output?</p>
</blockquote>

<p>Unit testing is typically achieved with mocking dependencies and using frameworks like Jest, Mocha, Chai, Jasmine.</p>

<p>The type of code we should unit test includes</p>

<ul>
<li>complex algorithms</li>
<li>utility functions</li>
<li>class / react Component</li>
</ul>

<h3 id="integration-tests">Integration Tests</h3>

<p>When we make changes to a library, for example, we should perform integration testing locally before publishing the library. This means we want to check that the updated library still works in applications that use the library. Well designed libraries generally have an API that rarely changes, but when it does, that is when integration testing is most important.</p>

<h3 id="end-to-end-testing">End-to-End Testing</h3>

<p>End-to-end (e2e) testing ensures the flow of an application from beginning to finish is as expected and also checks its integration with external interfaces. Frameworks: <a href="https://github.com/GoogleChrome/puppeteer/" target="_blank">Puppeteer</a>, <a href="https://www.seleniumhq.org/" target="_blank">Selenium</a></p>

<h3 id="regression-testing">Regression Testing</h3>

<p>Does the new feature break existing features? If you have automated testing set up, this would be done automatically.</p>

<h3 id="automated-vs-manual-testing">Automated vs Manual Testing</h3>

<p>Some features (e.g., looks and feel of UX) may be too qualitative for automated test</p>

<h3 id="stress-testing">Stress Testing</h3>

<p>Stress Testing - analyzing failure condition. Test failure cases. Making sure your software fails safely. For example, what you should get when you remove from an empty heap?</p>

<h2 id="testing-techniques">Testing Techniques</h2>

<p>This section goes into some best practice and techniques for testing a React application using Jest and Enzyme. It assumes the reader has some basic familiarity with these testing frameworks.</p>

<h3 id="mocking">Mocking</h3>

<p>When we want to test one object, we replace other objects that interface with the object with mocks to simulate their behavior.</p>

<blockquote>
<p>Mocks imitate the behavior of other objects the object you want to test interfaces with.</p>
</blockquote>

<p>A mock of other pieces of software is essentially data that we expect to get as input. For example, if we are writing a component in React to consume content from an API endpoint, we mock the API response by creating a file containing the JSON representing a response we’d expect to get from the endpoint.</p>

<p>We create mocks to support unit tests. For example</p>

<pre><code class="language-javascript">const generateMockUser = (
  {
    userName = &quot;janeDoe&quot;,
    firstName = &quot;Jane&quot;,
    lastName = &quot;Doe&quot;,
    email = &quot;janeDoe@example.com&quot;
  }
) =&gt; ({ userName, firstName, lastName, email})
</code></pre>

<p>Every argument in <code>generateMockUser</code> is optional with a default. This provides maximum flexibility for creating a customizable mock.</p>

<h3 id="spying">Spying</h3>

<p>A spy is essentially a mock function. A spy lets you spy on the behavior of a function that your software affects. The other function may be directly or indirectly called by your function. It’s clear what calling a function directly means but what do we mean by indirectly? For example, our function could emit and event and another function somewhere else observes that event and acts upon it.</p>

<p>If our function calls other functions, we want to test that the other functions are called under the right criteria with the right arguments. To do that, we spy on other functions.</p>

<h1 id="testing-using-jest-and-enzyme">Testing Using Jest and Enzyme</h1>

<p>For unit testing of React components, we are concerned about testing rendering and event handling. In summary, we want to check:</p>

<ol>
<li>Child component is rendered with the right props.</li>
<li>Everything is rendered correctly on initial mount.</li>
<li>Changes to state or props results in the correct changes in what&rsquo;s rendered, as applicable.</li>
<li>State changes as expected when there&rsquo;s an event or a method call.</li>
<li>Functions external to the component (e.g, from props) are called with the right arguments when there&rsquo;s an event (e.g., mouse click) or a method call.</li>
</ol>

<p>Below are some examples of unit testing using Jest and Enzyme.</p>

<h2 id="setting-up-a-test">Setting up a test</h2>

<pre><code class="language-javascript">import EditProfileForm from &quot;../feedbackForm&quot;;

// Child components
import Checkbox from &quot;../checkbox&quot;;
import EmailInput from &quot;../EmailInput&quot;;
import TextInput from &quot;../TextInput&quot;;

// Mocks
import generateMockUser from &quot;./mocks/mockUser&quot;;

const mockUser = generateMockUser({});

describe(&quot;EditProfileForm&quot;, () =&gt; {
      let props;
      let form;
      let submitSpy = jest.fn();

      beforeEach(() =&gt; {
        submitSpy = jest.fn();
        props = {
          ...mockUser,
          submit: submitSpy
        }
        form = shallow(&lt;EditProfileForm {...props} /&gt;);
      });

      describe(&quot;render&quot;, () =&gt; {
        test(&quot;renders...&quot;, () =&gt; {

        });
        test(&quot;renders...&quot;, () =&gt; {

        });
      });
      describe(&quot;submit&quot;, () =&gt; {

      });
});
</code></pre>

<h2 id="find">Find</h2>

<p>For testing that a child component is rendered, import the child component in the test file, then use <code>find()</code>.</p>

<pre><code class="language-javascript">test(&quot;renders emailInput with right props&quot;, () =&gt; {
  const emailInput = form.find(EmailInput);
  expect(emailInput).toHaveLength(1);
  expect(emailInput.props()).toEqual({
    value: props.email
  });
});
</code></pre>

<p>When multiple instances of the same child components are rendered, use <code>find()</code> to get all the instances as an array, then use <code>at()</code> to select a specific instance at a given index.</p>

<pre><code class="language-javascript">test(&quot;renders the text input with right props&quot;, () =&gt; {
  const textInputs = form.find(TextInput);
  expect(textInputs).toHaveLength(3);
  expect(textInputs.at(0).props()).toEqual({
    value: props.userName,
    locked: true
  });
  expect(textInputs.at(1).props()).toEqual({
    value: props.firstName,
    locked: false
  });
  expect(textInputs.at(2).props()).toEqual({
    value: props.lastName,
    locked: false
  });
});
</code></pre>

<p>We can also find by class</p>

<pre><code class="language-javascript">const input = form.find(&quot;.inputClassName&quot;)
</code></pre>

<p>And by HTML Element</p>

<pre><code class="language-javascript">const paragraph = form.find(&quot;p&quot;)
const textInParagraph = paragraph.at(0).childAt(0).text()
</code></pre>

<h2 id="childat-vs-at">childAt vs at</h2>

<p><code>childAt(n)</code> selects the <code>nth</code> child of the currently selected node in the DOM.</p>

<pre><code class="language-javascript">const Paragraph = (
  &lt;p&gt;
    Foo
    &lt;span&gt;Bar&lt;/span&gt;
  &lt;p&gt;
);
</code></pre>

<pre><code class="language-javascript">test(&quot;renders Paragraph name&quot;, () =&gt; {
  const text = Field.find(&quot;p&quot;).childAt(0).text();
  expect(text).toEqual(&quot;Foo&quot;);
});
</code></pre>

<p><code>at(n)</code> selects the nth element in an arrays/collections</p>

<pre><code class="language-javascript">test(&quot;renders both edit and delete options&quot;, () =&gt; {
  const menuItems = editMenu.find(MenuItem);
  expect(menuItems.length).toBe(2);
  expect(menuItems.at(0).props().value).toEqual(&quot;edit&quot;);
  expect(menuItems.at(1).props().value).toEqual(&quot;delete&quot;);
});
</code></pre>

<h2 id="testing-events">Testing Events</h2>

<p>Use <code>simulate()</code> to simulate an keyboard event, mouse event, etc. Then use <code>spy</code> to ensure a proper response is fired when the event occurs.</p>

<pre><code class="language-javascript">describe(&quot;submit&quot;, () =&gt; {
  test(&quot;submit with the right props&quot;, () =&gt; {
    form.simulate(&quot;click&quot;);
    expect(submitSpy).toHaveBeenNthCalledWith(1, {
      email: form.state().email,
      firstName: form.state().firstName,
      lastName: form.state().lastName
    });
  });
});
</code></pre>

<h2 id="testing-a-collection">Testing A Collection</h2>

<p>Use <code>each()</code>. For example, if we have a function <code>increment</code></p>

<pre><code class="language-javascript">const increment = (val) =&gt; {
  const parsedInt = parseInt(val, 10);
  if (Number.isNaN(parsedInt)) return undefined;
  return parsedInt + 1;
};
</code></pre>

<pre><code class="language-javascript">test.each([
    [-1, 0],
    [0, 1],
    [1, 2],
    [1.5, 2]
    [&quot;2&quot;, 3],
    [&quot;foo&quot;, undefined],
    [null, undefined]
])(&quot;increment %s&quot;, (val, expectedRes) =&gt; {
    expect(increment(val)).toBe(expectedRes);
});
</code></pre>

<p>This will be printed out in console:</p>

<pre><code>✓ increment -1
✓ increment 0 (1ms)
✓ increment 1
✓ increment 1.5
✓ increment 2
✓ increment foo
✓ increment null (1ms)
</code></pre>

<h2 id="testing-react-component-methods">Testing React component methods</h2>

<p>We need to use <code>wrapper.instance()</code> to access the component instance inside the wrapper so we can invoke component methods directly in our tests.</p>

<p>For example, suppose we have this component:</p>

<pre><code class="language-javascript">class Counter extends React.PureComponent {
  constructor(props) {
    super(props);
    this.incrementValueBound = this.incrementValue.bind(this);
    this.state({
      value: this.props.counterValue
    });
  }
  incrementValue() {
    this.setState(state =&gt; ({
      value: state.value + 1
    }));
    this.props.updateCounter(this.state.value + 1);
  }
  render() {
    return (
      &lt;div&gt;
        &lt;p&gt;{this.state.value}&lt;/p&gt;
        &lt;button onClick={incrementValueBound}&gt;Increment&lt;/button&gt;
      &lt;div&gt;
    );
  }
}
</code></pre>

<pre><code class="language-javascript">test(&quot;should increment value when incrementValue is called&quot;, () =&gt; {
  const props = {
    counterValue: 0,
    updateCounter: jest.fn()
  }
  const wrapper = shallow(&lt;Counter {...props} /&gt;);
  expect(wrapper.state(&quot;value&quot;)).toBe(0);
  wrapper.instance().incrementValue();
  wrapper.instance().incrementValue();
  expect(wrapper.state(&quot;value&quot;)).toBe(2);
  expect(props.updateCounter).toHaveBeenNthCalledWith(1, 2)
});
</code></pre>

<h2 id="checking-method-in-props">Checking Method In Props</h2>

<p>Another use of <code>wrapper.instance</code> is in accessing the component method that is passed down to a child component as props.</p>

<p>Suppose we have a <code>App</code> component that uses the <code>Counter</code> component.</p>

<pre><code class="language-javascript">class App extends React.PureComponent {
  constructor(props) {
    super(props);
    this.updateCounterBound = this.updateCounter.bind(this);
    this.state({
      counterValue: 0
    });
  }
  updateCounter(newValue) {
    this.setState({ counterValue: newValue })
  }
  render() {
    return (
        &lt;Counter
  counterValue={this.state.value}
  updateValue={this.updateCounterBound}
/&gt;
    );
  }
}
</code></pre>

<p>Our test for <code>App</code></p>

<pre><code class="language-javascript">test(&quot;renders Counter with right props&quot;, () =&gt; {
  const app = shallow(&lt;App /&gt;);
  const counter = app.find(Counter);
  expect(counter).toHaveLength(1);
  expect(counter.props()).toEqual({
    counterValue: app.state(&quot;counterValue&quot;),
    updateCounter: app.instance().updateCounterBound
  });
})
</code></pre>

<h2 id="spy-on-component-methods">Spy on component methods</h2>

<p>Using the <code>Counter</code> example from before</p>

<pre><code class="language-javascript">describe(&quot;incrementValue&quot;, () =&gt; {
  let props;
  let counter;
  let counterInstance;
  let incrementValueSpy;

  beforeEach(() =&gt; {
    const props = {
      counterValue: 0,
      updateCounter: jest.fn()
    }
    counter = shallow(&lt;Counter {...props} /&gt;);
    counterInstance = counter.instance();
    incrementValueSpy = jest.spyOn(counterInstance, &quot;incrementValue&quot;);
  });
  test(&quot;should call incrementValue&quot;, () =&gt; {
    counterInstance.incrementValue();
    expect(incrementValueSpy).toHaveBeenCalledTimes(1);
  });
});
</code></pre>

<h2 id="shallow-vs-mount">Shallow vs Mount</h2>

<h2 id="dive">Dive</h2>

<p>When we want to render things inside of a shallowly mounted component, use <a href="https://airbnb.io/enzyme/docs/api/ShallowWrapper/dive.html" target="_blank"><code>dive()</code></a>.</p>

<p>For example, if we have the following component:</p>

<pre><code class="language-javascript">import ContentPage from &quot;./ContentPage&quot;;
import TopNav from &quot;./TopNav&quot;;
import Sidebar from &quot;./Sidebar&quot;;
import MainScreen from &quot;./MainScreen&quot;;

export class Layout extends React.PureComponent {
  render() {
    return (
      &lt;ContentPage
   topNav={TopNav}
   sidebar={Sidebar}
   screen={MainScreen}
   title={&quot;My Awesome App&quot;}
/&gt;
    );
  }
}
</code></pre>

<p>We want to write a test for Layout to verify that all the components are rendered.</p>

<pre><code class="language-javascript">// Libraries
import React from &quot;react&quot;;
import { shallow } from &quot;enzyme&quot;;

// Components
import Layout from &quot;./Layout&quot;;
import ContentPage from &quot;./ContentPage&quot;;
import TopNav from &quot;./TopNav&quot;;
import Sidebar from &quot;./Sidebar&quot;;
import MainScreen from &quot;./MainScreen&quot;;

describe(&quot;Layout&quot;, () =&gt; {
  let layout;
  beforeEach(() =&gt; {
    layout = shallow(&lt;Layout /&gt;);
  });
  test(&quot;passes props to ContentPage&quot;, () =&gt; {
    expect(layout.prop(&quot;title&quot;).toBe(&quot;My Awesome App&quot;);
  });
  test(&quot;renders all components&quot;, () =&gt; {
    expect(layout.find(ContentPage)).toHaveLength(1);
    expect(layout.dive().find(TopNav)).toHaveLength(1);
    expect(layout.dive().find(Sidebar)).toHaveLength(1);
    expect(layout.dive().find(MainScreen)).toHaveLength(1);
  });
});
</code></pre>

<h2 id="state-and-props">State and Props</h2>

<p>For this section, we will use the following component:</p>

<pre><code class="language-javascript">class Foo extends React.PureComponent {
  constructor(props) {
    this.state = {
      title: &quot;foo&quot;
    }
  }
  render() {
    return (
      &lt;div&gt;
        &lt;h1&gt;{this.state.title}&lt;/h1&gt;  
        &lt;p&gt;{this.props.value}&lt;/p&gt;
      &lt;/div&gt;
    );
  }
}
</code></pre>

<p>We initialize test as such:</p>

<pre><code class="language-javascript">describe(&quot;Foo&quot;, () =&gt; {
  let props;
  let foo;
  beforeEach(() =&gt; {
    props = {
      value: &quot;Hello World&quot;
    };
    foo = mount(&lt;Foo {...props} /&gt;);
  });
});
</code></pre>

<h3 id="inspect-state">Inspect State</h3>

<p>These are all valid ways of inspecting the state of <code>&lt;Foo /&gt;</code>:</p>

<pre><code class="language-javascript">expect(foo.state(&quot;title&quot;)).toBe(&quot;foo&quot;);
expect(foo.state()).toEqual({ name: &quot;foo&quot; });
expect(foo.state().title).toBe(&quot;foo&quot;);
</code></pre>

<h3 id="update-state">Update State</h3>

<pre><code class="language-javascript">foo.setState({ name: &quot;bar&quot; });
const title = foo.find(&quot;h1&quot;);
expect(title.text()).toBe(&quot;bar&quot;);
</code></pre>

<p>After updating state, you need to reselect from the wrapper. This wouldn&rsquo;t work:</p>

<pre><code class="language-javascript">const title = foo.find(&quot;h1&quot;);
foo.setState({ name: &quot;bar&quot; });
expect(title.text()).toBe(&quot;bar&quot;); // fails. name is still &quot;foo&quot;
</code></pre>

<h3 id="inspect-props">Inspect Props</h3>

<pre><code class="language-javascript">expect(foo.prop(&quot;value&quot;)).toBe(props.value);
expect(foo.props()).toEqual({ value: &quot;Hello World&quot; });
expect(foo.state().value).toBe(props.value);
</code></pre>

<h3 id="update-props">Update Props</h3>

<pre><code class="language-javascript">expect(foo.find(&quot;p&quot;).text()).toBe(&quot;Hello World&quot;);
foo.setProps({
  value: &quot;Hello&quot;
});
expect(foo.find(&quot;p&quot;).text()).toBe(&quot;Hello&quot;);
</code></pre>

<p>Same with <code>setState</code>, if you setProp, you need to reselect everything before checking with <code>expect</code>.</p>

<h2 id="debugging">Debugging</h2>

<p>Use <code>debug()</code></p>

<pre><code class="language-javascript">const form = shallow(&lt;EditProfileForm {...props} /&gt;);
console.log(form.debug());
</code></pre>

<h2 id="async-await">Async/Await</h2>

<p>Suppose you want to test a method that changes the state to something, then after 5 seconds, changes to something else. Jest imposes a 5 seconds timeout. If you want to capture that, you can set a new limit for the timeout:</p>

<pre><code class="language-javascript">// Want to test

flashNameChange = async ({ newName }) =&gt; {
  this.setState({ name: newName, textColor: &quot;red&quot; });

  await delay(FLASH_CHANGE_DURATION);

  this.setState({ textColor: &quot;black&quot; });
}
</code></pre>

<pre><code class="language-javascript">// Test

describe(&quot;flashNameChange&quot;, () =&gt; {
  const newName = &quot;bar&quot;;
  test(&quot;should set new name and flash text color red&quot;, () =&gt; {
    wrapper.instance().flashNameChange({ newName });
    expect(wrapper.instance().state).toEqual({
      name: newName,
      textColor: &quot;red&quot;
     });
  });

  test(&quot;should set textColor back to black after FLASH_CHANGE_DURATION elapsed&quot;, async () =&gt; {
    await wrapper.instance().flashNameChange({ newName });

    expect(wrapper.instance().state.textColor).toEqual(&quot;black&quot;);
  }, FLASH_MESSAGE_DURATION * 2);
});

</code></pre>

<p>See <a href="https://github.com/facebook/jest/issues/5055" target="_blank">this</a> for more information on timeouts.</p>

<h2 id="document-and-element-with-timeout">Document and Element With Timeout</h2>

<p>Let&rsquo;s walk through a difficult example testing a component which have a lot of UI effects. Suppose you have a component that scrolls into view on an element upon initial mount.</p>

<pre><code class="language-js">const FLASH_DURATION = 3000; // 3 seconds
const delay = (ms: number) =&gt; new Promise&lt;any&gt;(res =&gt; setTimeout(res, ms));

const validElementIds = [
  &quot;section1&quot;, &quot;section2&quot;, &quot;section3&quot;
];

class Page extends React.PureComponent {
  componentIsMounted = false; // Needed to prevent memory leak
  constructor(props) {
    super(props);
    this.state = {
      highlightSection: false
    }
  }
  componentDidMount() {
    this.componentIsMounted = true;
    const { scrollTo } = this.props;

    if (!scrollTo) return;

    const elementId = scrollTo;
    const element = document.getElementById(elementId);

    if (!element) return;

    this.scrollToElement(element);
  }
  componentWillUnmount() {
    this.componentIsMounted = false;
  }
  async scrollToElement(element: HTMLElement) {
    element.scrollIntoView({ behavior: &quot;smooth&quot;, block: &quot;center&quot; });

    if (!this.componentIsMounted) return;

    this.setState({
      highlightSection: true
    });

    await delay(FLASH_DURATION);

    if (!this.componentIsMounted) return;

    this.setState({
        highlightSection: false
    });
  }
  render() {
    const { scrollTo } = this.props;
    const { highlightSection } = this.state;
    const sectionClassName = validElementIds.map(elementId =&gt;
      (elementId === scrollTo &amp;&amp; highlightSection) ? styles.highlightedSection : &quot;&quot;
    );
    return (
      &lt;div&gt;
        { validElementIds.map((id, i) =&gt;
            &lt;p key={id} id={id} className={sectionClassName[i]}&gt;)
        }
      &lt;/div&gt;
    );
  }
}
</code></pre>

<p>There is a few thing about this component that makes it harder to test:</p>

<ol>
<li><code>scrollTo</code></li>
<li>element selection.</li>
<li>Setting state based on a timer.</li>
</ol>

<p>Let&rsquo;s write a test for this component.</p>

<p>To address the <code>document.getElementById() returns null</code> error, we follow the advice from <a href="https://stackoverflow.com/questions/43694975/jest-enzyme-using-mount-document-getelementbyid-returns-null-on-componen" target="_blank">here</a> to mount with <code>attachTo</code> param.</p>

<p>To address the <code>cannot scrollIntoView of null</code> error, we follow the advice from <a href="https://stackoverflow.com/questions/51527362/testing-scrollintoview-jest?rq=1" target="_blank">here</a> to manually include a <code>scrollIntoView</code> spy in <code>window.HTMLElement.prototype</code>.</p>

<pre><code class="language-js">describe(&quot;Page component&quot;, () =&gt; {
  let page;
  beforeEach(() =&gt; {
    const div = document.createElement(&quot;div&quot;);
    window.domNode = div;
    document.body.appendChild(div);
    scrollIntoViewSpy = jest.fn();
    window.HTMLElement.prototype.scrollIntoView = scrollIntoViewSpy;

    page = mount(
      &lt;Page scrollTo={validElementIds[0]}&gt;,
      { attachTo: window.domNode }
    )
  });
});
</code></pre>

<p>Then we can add the following tests to verify that when provided with a valid <code>elementId</code>, our component scrolls to that element and highlights it upon mount.</p>

<pre><code class="language-js">describe(&quot;Scroll to and highlight Section based on scrollTo&quot;, () =&gt; {
  test.each(
    [[undefined], [&quot;invalid sectionId&quot;]]
  )(&quot;scrolls to and highlights section when scrollTo = %s&quot;, (elementId) =&gt; {
      page = mount(
          &lt;Page scrollTo={elementId} /&gt;,
          { attachTo: window.domNode }
      );
      expect(page.state().highlightSection).toBe(false);
      expect(scrollIntoViewSpy).toHaveBeenCalledTimes(0);
  });
  test.each(
    validElementIds
  )(&quot;scrolls to and highlights section when scrollTo = %s&quot;, (elementId) =&gt; {
      page = mount(
          &lt;Page scrollTo={elementId} /&gt;,
          { attachTo: window.domNode }
      );
      expect(page.state().highlightSection).toBe(true);
      expect(scrollIntoViewSpy).toHaveBeenCalledTimes(1);
      const element = page.find(`#${elementId}`);
      expect(element.hasClass(&quot;highlightedSection&quot;)).toBe(true);
  });
});
</code></pre>

<p>Finally, we also want to test that the highlight is removed after a specified duration.</p>

<pre><code class="language-js">test(&quot;should set highlightSection to false after flash duration elapses after mount&quot;, async () =&gt; {
    const elementId = validElementIds[0];

    page = mount(
        &lt;Page scrollTo={elementId} /&gt;,
        { attachTo: window.domNode }
    );

    await page.instance().scrollToElement(
        document.getElementById(elementId)
    );

    expect(userPreferencesForm.state().highlightSection).toBe(false);
}, FLASH_DURATION * 2);
</code></pre>

<h1 id="resources">Resources</h1>

<ul>
<li><a href="https://medium.com/javascript-scene/tdd-the-rite-way-53c9b46f45e3" target="_blank">TDD the right way</a></li>
<li><a href="https://medium.com/javascript-scene/what-every-unit-test-needs-f6cd34d9836d" target="_blank">5 questions every unit tests must answer</a></li>
<li><a href="https://github.com/foundersandcoders/testing-tdd-intro" target="_blank">Testing TDD Intro</a></li>
<li><a href="https://medium.com/codeclan/mocking-es-and-commonjs-modules-with-jest-mock-37bbb552da43" target="_blank">mocking es and commonjs modules</a></li>
<li><a href="https://medium.com/@rickhanlonii/understanding-jest-mocks-f0046c68e53c" target="_blank">Understanding Jest mocks</a></li>
<li><a href="https://medium.com/@deanslamajr/jest-fn-all-the-things-d26f3b929986" target="_blank">Jest fn</a></li>
<li><a href="https://medium.com/wehkamp-techblog/unit-testing-your-react-application-with-jest-and-enzyme-81c5545cee45" target="_blank">Unit testing your React App With Jest and Enzyme</a></li>
<li><a href="https://github.com/facebook/jest/issues/1592" target="_blank">jest.fn vs jest.spy</a></li>
<li><a href="https://codeahoy.com/2016/07/05/unit-integration-and-end-to-end-tests-finding-the-right-balance/" target="_blank">Unit vs Integration vs End-to-End testing</a></li>
<li><a href="https://bambielli.com/til/2018-03-04-directly-test-react-component-methods/" target="_blank">Testing component methods directly</a></li>
</ul>

<p>Cheatsheets</p>

<ul>
<li><a href="https://github.com/maurocarrero/sinon-jest-cheatsheet" target="_blank">How to achieve the same thing in Sinon with Jest</a></li>
<li><a href="https://devhints.io/jest" target="_blank">Jest Cheatsheet</a></li>
<li><a href="https://devhints.io/enzyme" target="_blank">Enzyme Cheatsheet</a></li>
<li><a href="https://doc.ebichu.cc/jest/docs/en/expect.html" target="_blank">Jest Docs</a></li>
<li><a href="https://jestjs.io/docs/en/expect" target="_blank">Jest Expect Docs</a></li>
<li><a href="https://benmccormick.org/2017/08/15/jest-matchers-1/" target="_blank">Taking Advantage of Jest Matchers</a></li>
</ul>
              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://xiaoyunyang.github.io/tags/javascript/">JavaScript</a>

  <a class="tag tag--primary tag--small" href="https://xiaoyunyang.github.io/tags/programming/">Programming</a>

  <a class="tag tag--primary tag--small" href="https://xiaoyunyang.github.io/tags/software-design/">Software Design</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://xiaoyunyang.github.io/post/beyond-minimum-viable-product-a-lesson-on-building-production-ready-software/" data-tooltip="Beyond Minimum Viable Product: A Lesson on Building Production-ready Software">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://xiaoyunyang.github.io/post/a-guide-for-migrating-your-project-to-typescript/" data-tooltip="A Guide For Migrating Your Project to TypeScript">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://xiaoyunyang.github.io/post/effective-unit-testing-of-react-components-with-jest-and-enzyme/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://xiaoyunyang.github.io/post/effective-unit-testing-of-react-components-with-jest-and-enzyme/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://xiaoyunyang.github.io/post/effective-unit-testing-of-react-components-with-jest-and-enzyme/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#table-of-contents">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread"></div>
<script>




var disqus_config = function () {
this.page.url = "https://xiaoyunyang.github.io/post/effective-unit-testing-of-react-components-with-jest-and-enzyme/";  
this.page.identifier = "Effective Unit Testing of React Components With Jest And Enzyme"; 
};

(function() { 
var d = document, s = d.createElement('script');
s.src = 'https://http-xiaoyunyang-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2019 Xiaoyun Yang. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://xiaoyunyang.github.io/post/beyond-minimum-viable-product-a-lesson-on-building-production-ready-software/" data-tooltip="Beyond Minimum Viable Product: A Lesson on Building Production-ready Software">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://xiaoyunyang.github.io/post/a-guide-for-migrating-your-project-to-typescript/" data-tooltip="A Guide For Migrating Your Project to TypeScript">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://xiaoyunyang.github.io/post/effective-unit-testing-of-react-components-with-jest-and-enzyme/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://xiaoyunyang.github.io/post/effective-unit-testing-of-react-components-with-jest-and-enzyme/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://xiaoyunyang.github.io/post/effective-unit-testing-of-react-components-with-jest-and-enzyme/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#table-of-contents">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fxiaoyunyang.github.io%2Fpost%2Feffective-unit-testing-of-react-components-with-jest-and-enzyme%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fxiaoyunyang.github.io%2Fpost%2Feffective-unit-testing-of-react-components-with-jest-and-enzyme%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=https%3A%2F%2Fxiaoyunyang.github.io%2Fpost%2Feffective-unit-testing-of-react-components-with-jest-and-enzyme%2F">
          <i class="fa fa-google-plus"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://xiaoyunyang.github.io/images/xyang.png" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Xiaoyun Yang</h4>
    
      <div id="about-card-bio">Software Engineer. Entrepreneur.</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Software Engineer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        New York
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://xiaoyunyang.github.io/post/beyond-minimum-viable-product-a-lesson-on-building-production-ready-software/">
                <h3 class="media-heading">Beyond Minimum Viable Product: A Lesson on Building Production-ready Software</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Aug 8, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>What I learned working at a mature startup that&rsquo;s building new things but also has a ton of customers and products in production.</p>

<p>This post is a WIP.</p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://xiaoyunyang.github.io/post/effective-unit-testing-of-react-components-with-jest-and-enzyme/">
                <h3 class="media-heading">Effective Unit Testing of React Components With Jest And Enzyme</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Aug 8, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>The purpose of this article is to (1) provide a high level discussion of testing and (2) offer some practical examples and best practice for writing automated unit tests for React Application using Jest and Enzyme.</p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://xiaoyunyang.github.io/post/a-guide-for-migrating-your-project-to-typescript/">
                <h3 class="media-heading">A Guide For Migrating Your Project to TypeScript</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>Introduction to TypeScript and guide for how to migrate your project from Flow to TypeScript.</p>

<p>This post is a WIP.</p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://xiaoyunyang.github.io/post/the-algorithm-for-managing-stress/">
                <h3 class="media-heading">The Algorithm for Managing Stress</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>What is stress? Stress is your subconscious telling you that you have sh*t to do. Feeling stressed about your health? Go to the gym everyday. Feeling stressed about your financial situation? Get a more high paying job. If only things were that simple. In this post, I&rsquo;m going to teach you how to get rid your stress by understanding where your stress is coming from, then come up with an action plan and execute actions to address the source of your stress. This is not another &ldquo;top 10 things you can do to &hellip;.&rdquo; article. I will be discussing specific algorithms and heuristics with roots in computer science and mathematics that can be followed for every step of your journey to eliminating the source of your stress.</p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://xiaoyunyang.github.io/post/get-started-with-go/">
                <h3 class="media-heading">Get Started With Go</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>Go is becoming pretty mainstream. Every job posting I&rsquo;ve seen recently requires Go as a want-to-have or a need-to-have skill. This post serves as a guide to help you hit the ground running with Go.</p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://xiaoyunyang.github.io/post/thirsty-plant-automated-plant-waterer/">
                <h3 class="media-heading">Thirsty Plant: Automated Plant Waterer</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p><em>by <a href="https://github.com/xiaoyunyang" target="_blank">Xiaoyun Yang</a> and <a href="https://github.com/clydeshaffer" target="_blank">Clyde Shaffer</a></em></p>

<p>I love indoor plants but I&rsquo;m bad a keeping them alive. I once had a cactus that died from thirst. I purchased a few Aqua Bulbs, which has been great help in keeping the big plant watered enough for me to get around to taking care of it. However, I can&rsquo;t use the Aqua Bulb on my smaller plant. Also, Aqua Bulbs break easily and refilling it with water is always a hassle. This motivated me to build an automated plant waterer. Let&rsquo;s call it ThirstyPlant.</p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://xiaoyunyang.github.io/post/from-public-sector-to-senior-software-engineer-how-i-made-the-transition/">
                <h3 class="media-heading">From Public Sector To Senior Software Engineer:  How I made the Transition</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>I joined the US Navy after graduating from college. The service commitment is 5 years. At the end of my service commitment during my terminal leave, I obtained a position with a mature startup in NYC as a Senior Software Engineer. There were a lot of bumps in the road during the last five years, especially the last 3 weeks of my transition out of the Navy. I will share the story of how I prepared for my career transition and shed some light on how job search works today.</p>



 
  
  
  
  
    
  
    
      
    
  

<div class="figure fig-70" >
  
    <a class="fancybox" href="https://images2.imgbox.com/26/21/MQB5dNYd_o.png" title="My KeyValues filter" data-fancybox-group="">
  
    <img class="fig-img" src="https://images2.imgbox.com/26/21/MQB5dNYd_o.png"  alt="My KeyValues filter">
  
    </a>
  
   
    <span class="caption">My KeyValues filter</span>
  
</div></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://xiaoyunyang.github.io/post/when-to-use-immutable-data-structures/">
                <h3 class="media-heading">When To Use Immutable Data Structures</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>Suppose you are asked this question during a technical interview:</p>

<blockquote>
<p>When do you use immutable (functional) data structures and when do you use mutable data structure?</p>
</blockquote></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://xiaoyunyang.github.io/post/security-considerations-for-web-applications-and-best-practices/">
                <h3 class="media-heading">Security Considerations for Web Applications and Best Practices</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>This article discusses some pitfalls and techniques for securiing your JavaScript application against attacks such as XSS, CSRF, reverse tabnabbing, and security considerations working with open source.</p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://xiaoyunyang.github.io/post/cribsheet-for-javascript-coding-interview/">
                <h3 class="media-heading">Cribsheet for JavaScript Coding Interview</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Oct 10, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>The coding interviews / coding challenges are designed to assess how productive someone can be with the language. In contrast to the algorithm whiteboarding interview, which assesses how the candidate go about solving a problem, or the architecture design interview, which assesses how the candidate&rsquo;s experience in system engineering and product design, the coding interview is is utilized by the company interviewing you to answer one question:</p>

<blockquote>
<p>Can you be productive with JavaScript?</p>
</blockquote></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         38 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://xiaoyunyang.github.io/images/cover-blue.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://xiaoyunyang.github.io/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>


  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/languages/go.min.js"></script>
  

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/languages/typescript.min.js"></script>
  


<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/xiaoyunyang.github.io\/post\/effective-unit-testing-of-react-components-with-jest-and-enzyme\/';
          
            this.page.identifier = '\/post\/effective-unit-testing-of-react-components-with-jest-and-enzyme\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'http-xiaoyunyang-github-io';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
  </body>
</html>

